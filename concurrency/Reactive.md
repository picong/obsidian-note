## 反应式宣言
四个特征：
- 响应性
- 韧性
- 弹性
- 消息驱动
![[Pasted image 20240529160617.png]]
采用线程多路复用策略时需要特别注意一点：不要在主事件循环中添加可能阻塞的操作。
![[Pasted image 20240529161732.png]]
为了解决这一问题,大多数的反应式框架(RxJava和Akka)中都可以开辟独立的线程池用于执行阻塞式操作。

## 数据平面
数据平面由一系列边车代理所构成，它的核心职责是转发应用的入站(Inbound)和出站(Outbound)数据包，因此数据平面也有个别名叫转发平面(Forwording plane)。
## 控制平面
单体化之后出现的新进程Istiod就承担所有的控制平面职责，具体包括以下几种。
1. 数据平面交互：这是部分是满足服务网格正常工作所需的必要工作。具体包括以下几个方面：
	1. 边车注入：在Kubernetes中注册Mutating Webhook控制器，实现代理容器的自动注入，并生成Envoy的启动配置信息。
	2. 策略分发：接手了原来Pilot的核心工作，为所有的Envoy代理提供符合xDS协议的策略分发服务。
	3. 配置分发：接手了原来Galley的核心工作，负责监听来自多种支持配资源的数据，比如kube-apiserver，本地配置文件，或者定义为网络配置协议(Mesh Configuration Protocol, MCP)的配置信息。原来Galley需要处理的API检验和配置转发功能也包含在内。
2. 流量控制：这通常是用户使用服务网格的最主要目的。
	1. 请求路由
	2. 流量治理
	3. 调试能力
3. 通信安全：包括通信中的加密、凭证、认证、授权等功能。
	1. 生成CA证书
	2. SDS服务代理
	3. 认证
	4. 授权
4. 可观测性：包括日志、追踪、度量三大块能力。
	1. 日志收集
	2. 链路追踪
	3. 指标度量